!function(e){function t(t){for(var o,i,r=t[0],s=t[1],a=0,l=[];a<r.length;a++)i=r[a],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&l.push(n[i][0]),n[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(c&&c(t);l.length;)l.shift()()}var o={},i={0:0},n={0:0};function r(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{1:1}[e]&&t.push(i[e]=new Promise((function(t,o){for(var n="css/"+e+".bundle.min.css",s=r.p+n,a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var c=(d=a[l]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===n||c===s))return t()}var h=document.getElementsByTagName("style");for(l=0;l<h.length;l++){var d;if((c=(d=h[l]).getAttribute("data-href"))===n||c===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||s,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete i[e],f.parentNode.removeChild(f),o(r)},f.href=s,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){i[e]=0})));var o=n[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise((function(t,i){o=n[e]=[t,i]}));t.push(o[2]=s);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(e){return r.p+"js/"+e+".bundle.js"}(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(h);var o=n[e];if(0!==o){if(o){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,o[1](c)}n[e]=void 0}};var h=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=o,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=a;r(r.s=0)}([function(e,t,o){"use strict";o.r(t),o.d(t,"GC",(function(){return l})),o.d(t,"c",(function(){return a})),o.d(t,"GameState",(function(){return n}));var i=function(){function e(){this.initialSize=4;var e=this.generateRandomCoords();this.parts=[{x:e.x,y:e.y}],this.generateInitialParts(),this.velocity={x:1,y:0},this.foodCoords=this.generateFoodCoords(),this.lastPartCoords=null,this.grow=!1}return e.prototype.move=function(e){switch(e){case"w":1!==this.velocity.y&&(this.velocity.x=0,this.velocity.y=-1);break;case"a":1!==this.velocity.x&&(this.velocity.x=-1,this.velocity.y=0);break;case"s":-1!==this.velocity.y&&(this.velocity.x=0,this.velocity.y=1);break;case"d":-1!==this.velocity.x&&(this.velocity.x=1,this.velocity.y=0)}},e.prototype.draw=function(){this.renderFood(),this.grow&&(this.parts.push({x:this.lastPartCoords.x,y:this.lastPartCoords.y}),this.grow=!1),this.renderBodyParts();for(var e=this.parts.length-1;e>0;e--)this.parts[e].x=this.parts[e-1].x,this.parts[e].y=this.parts[e-1].y;this.parts[0].x+=l.scale*this.velocity.x,this.parts[0].y+=l.scale*this.velocity.y,(this.checkWallCollision()||this.checkSelfCollision())&&(l.gameState=n.GAME_OVER),this.checkFoodCollision()&&(this.grow=!0,l.score++),this.saveLastPartsCoordinates()},e.prototype.checkSelfCollision=function(){for(var e=1;e<this.parts.length;e++)if(this.parts[0].x===this.parts[e].x&&this.parts[0].y===this.parts[e].y)return!0;return!1},e.prototype.checkFoodCollision=function(){return this.parts[0].x===this.foodCoords.x&&this.parts[0].y===this.foodCoords.y&&(this.foodCoords=this.generateFoodCoords(),this.saveLastPartsCoordinates(),!0)},e.prototype.saveLastPartsCoordinates=function(){this.lastPartCoords={x:this.parts[this.parts.length-1].x,y:this.parts[this.parts.length-1].y}},e.prototype.checkWallCollision=function(){return this.parts[0].x<0||this.parts[0].x>=l.canvasWidth||this.parts[0].y<0||this.parts[0].y>=l.canvasHeight},e.prototype.renderBodyParts=function(){this.parts.forEach((function(e){a.beginPath(),a.rect(e.x,e.y,l.scale,l.scale),a.fillStyle="rgb(231,231,231)",a.stroke(),a.fill()}))},e.prototype.renderFood=function(){a.beginPath(),a.rect(this.foodCoords.x,this.foodCoords.y,l.scale,l.scale),a.fillStyle="rgba(100, 255, 100, .8)",a.fill(),a.beginPath(),a.rect(this.foodCoords.x-l.scale,this.foodCoords.y,l.scale,l.scale),a.fillStyle="rgba(100, 255, 100, .04)",a.fill(),a.beginPath(),a.rect(this.foodCoords.x+l.scale,this.foodCoords.y,l.scale,l.scale),a.fill(),a.beginPath(),a.rect(this.foodCoords.x,this.foodCoords.y-l.scale,l.scale,l.scale),a.fill(),a.beginPath(),a.rect(this.foodCoords.x,this.foodCoords.y+l.scale,l.scale,l.scale),a.fill(),a.beginPath(),a.rect(this.foodCoords.x-l.scale,this.foodCoords.y-l.scale,l.scale,l.scale),a.fillStyle="rgba(100, 255, 100, .015)",a.fill(),a.beginPath(),a.rect(this.foodCoords.x-l.scale,this.foodCoords.y+l.scale,l.scale,l.scale),a.fill(),a.beginPath(),a.rect(this.foodCoords.x+l.scale,this.foodCoords.y-l.scale,l.scale,l.scale),a.fill(),a.beginPath(),a.rect(this.foodCoords.x+l.scale,this.foodCoords.y+l.scale,l.scale,l.scale),a.fill()},e.prototype.generateInitialParts=function(){for(var e=1;e<this.initialSize;e++)this.parts.push({x:this.parts[0].x-l.scale*e,y:this.parts[0].y})},e.prototype.generateRandomIntInRange=function(e,t){return Math.floor(Math.random()*(t-e)+e)},e.prototype.generateRandomCoords=function(){for(var e=[],t=[],o=this.initialSize*l.scale;o<l.canvasWidth-l.scale*this.initialSize;o+=l.scale)e.push(o);for(o=this.initialSize*l.scale;o<l.canvasHeight-l.scale*this.initialSize;o+=l.scale)t.push(o);return{x:e[this.generateRandomIntInRange(0,e.length)],y:t[this.generateRandomIntInRange(0,t.length)]}},e.prototype.generateFoodCoords=function(){for(var e=this.generateRandomCoords(),t=0;t<this.parts.length;t++)e.x===this.parts[t].x&&e.y===this.parts[t].y&&(e=this.generateRandomCoords(),t=-1);return e},e.prototype.reset=function(){this.initialSize=4;var e=this.generateRandomCoords();this.parts=[{x:e.x,y:e.y}],this.generateInitialParts(),this.velocity={x:1,y:0},this.foodCoords=this.generateFoodCoords(),this.lastPartCoords=null,this.grow=!1},e}();o.e(1).then(o.t.bind(null,1,7));var n,r,s=document.getElementById("canvas"),a=s.getContext("2d");!function(e){e[e.MENU=0]="MENU",e[e.GAME_RUNNING=1]="GAME_RUNNING",e[e.GAME_OVER=2]="GAME_OVER"}(n||(n={})),function(e){e[e.easy=0]="easy",e[e.medium=20]="medium",e[e.hard=30]="hard"}(r||(r={}));var l={scale:40,canvasWidth:1600,canvasHeight:800,gameState:n.MENU,directionKey:"",score:0},c=new i;function h(){l.score=0,l.directionKey="",l.scale=40,c.reset()}function d(){a.clearRect(0,0,s.width,s.height),a.beginPath(),a.rect(0,0,s.width,s.height),a.fillStyle="#111111",a.fill(),l.gameState===n.MENU&&(requestAnimationFrame(d),a.beginPath(),a.moveTo(900,300),a.lineTo(1e3,350),a.lineTo(1e3,450),a.lineTo(900,400),a.closePath(),a.fillStyle="rgba(100, 255, 100, .65)",a.fill(),a.beginPath(),a.moveTo(900,300),a.lineTo(1e3,250),a.lineTo(1100,300),a.lineTo(1e3,350),a.closePath(),a.fillStyle="rgba(100, 255, 100, .8)",a.fill(),a.beginPath(),a.moveTo(1e3,350),a.lineTo(1100,300),a.lineTo(1100,400),a.lineTo(1e3,450),a.fillStyle="rgba(100, 255, 100, .5)",a.fill(),a.beginPath(),a.moveTo(1e3,450),a.lineTo(1100,500),a.lineTo(1200,450),a.lineTo(1100,400),a.closePath(),a.fillStyle="rgba(100, 255, 100, .04)",a.fill(),a.beginPath(),a.moveTo(1e3,450),a.lineTo(900,500),a.lineTo(800,450),a.lineTo(900,400),a.closePath(),a.fill(),a.beginPath(),a.moveTo(900,400),a.lineTo(800,350),a.lineTo(900,300),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1100,400),a.lineTo(1200,350),a.lineTo(1100,300),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1100,400),a.lineTo(1200,450),a.lineTo(1300,400),a.lineTo(1200,350),a.closePath(),a.fillStyle="rgba(100, 255, 100, .014)",a.fill(),a.beginPath(),a.moveTo(1e3,450),a.lineTo(1100,500),a.lineTo(1e3,550),a.lineTo(900,500),a.closePath(),a.fill(),a.beginPath(),a.moveTo(900,400),a.lineTo(800,450),a.lineTo(700,400),a.lineTo(800,350),a.closePath(),a.fill(),a.beginPath(),a.moveTo(100,120),a.lineTo(520,120),a.lineTo(520,340),a.lineTo(220,340),a.strokeStyle="#1d1d1d",a.stroke(),a.beginPath(),a.moveTo(280,100),a.lineTo(540,100),a.lineTo(540,640),a.lineTo(1400,640),a.lineTo(1500,580),a.strokeStyle="#1d1d1d",a.stroke(),document.getElementById("start-screen").style.display="block"),l.gameState===n.GAME_OVER&&(requestAnimationFrame(d),document.getElementById("game-over").style.display="block",document.getElementById("score").textContent=l.score.toString()),l.gameState===n.GAME_RUNNING&&(c.move(l.directionKey),c.draw(),a.beginPath(),a.fillStyle="white",a.font="20px Arial",a.fillText("Score: "+l.score,50,50),setTimeout((function(){d()}),100))}document.addEventListener("keypress",(function(e){switch(e.key.toLowerCase()){case"w":l.directionKey="w";break;case"a":l.directionKey="a";break;case"s":l.directionKey="s";break;case"d":l.directionKey="d"}})),document.getElementById("start-game").addEventListener("click",(function(){document.getElementById("start-screen").style.display="none";var e=document.getElementById("game-difficulty").value.toLowerCase();h(),l.scale-=r[e],l.gameState=n.GAME_RUNNING})),document.getElementById("start-menu").addEventListener("click",(function(){l.gameState=n.MENU,document.getElementById("game-over").style.display="none"})),document.getElementById("play-again").addEventListener("click",(function(){l.score=0,l.directionKey="",document.getElementById("game-over").style.display="none",l.gameState=n.GAME_RUNNING,c.reset()})),s.height=l.canvasHeight,s.width=l.canvasWidth,h(),d()}]);